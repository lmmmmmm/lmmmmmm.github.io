(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{196:function(a,t,e){"use strict";e.r(t);var s=e(0),r=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"content"},[e("h1",{attrs:{id:"log4j配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#log4j配置","aria-hidden":"true"}},[a._v("#")]),a._v(" Log4j配置")]),a._v(" "),e("h2",{attrs:{id:"_1-配置根logger"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-配置根logger","aria-hidden":"true"}},[a._v("#")]),a._v(" 1 配置根Logger")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("log4j.rootLogger")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("level,appenderName1(自定义)，appenderName2(自定义)")]),a._v("\n")])])]),e("h3",{attrs:{id:"_1-1-level"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-level","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.1 level")]),a._v(" "),e("p",[a._v("​      level表示日志级别：可设的值为：OFF 、FATAL 、"),e("strong",[a._v("ERROR、 WARN 、INFO 、DEBUG")]),a._v(" 、ALL。Log4建议使用中间加粗的四个级别。级别顺序为：OFF > FATAL > ERROR＞WARN ＞INFO ＞DEBUG＞ALL。既假如配置level为INFO ，则DEBUG级别日志不显示，INFO 级别以上的日志如WARN等会显示。")]),a._v(" "),e("h3",{attrs:{id:"_1-2-appendername"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-appendername","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.2 appenderName")]),a._v(" "),e("p",[a._v("​\tappenderName表示日志内容要输出到哪里，"),e("strong",[a._v("appenderName为自定义输入")]),a._v("，可以输入console，file，A1，B1等任意内容，可以同时指定多个输出地并用逗号隔开。")]),a._v(" "),e("h3",{attrs:{id:"_1-3-根loggeer配置例子"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-根loggeer配置例子","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.3 根Loggeer配置例子")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("log4j.rootLogger")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("INFO,console,logFile")]),a._v("\n")])])]),e("h2",{attrs:{id:"_2-配置日志信息输出地"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-配置日志信息输出地","aria-hidden":"true"}},[a._v("#")]),a._v(" 2 配置日志信息输出地")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("log4j.appender.appenderName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("className")]),a._v("\n")])])]),e("h3",{attrs:{id:"_2-1-appendername"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-appendername","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.1 appenderName")]),a._v(" "),e("p",[a._v("​\tappenderName为我们在根Logger中配置的appenderName")]),a._v(" "),e("h3",{attrs:{id:"_2-2-classname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-classname","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.2 className")]),a._v(" "),e("p",[a._v("​\tclassName为我们要选择日志的输出地，Log4j给我们提供以下常用的类作为配置日志输入地。")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[a._v("org.apache.log4j.ConsoleAppender\t\t\t\t#将日志输出到控制台中\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.FileAppender")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("     \t\t\t\t#将日志输出到文件中")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.DailyRollingFileAppender")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("      #每天产生一个日志文件")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.RollingFileAppender")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("      \t    #文件达到指定尺寸产生一个新文件")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.WriterAppender")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("       \t        #将日志信息已流格式发送到任意指定地方")]),a._v("\n")])])]),e("h3",{attrs:{id:"_2-3-日志输出地基本配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-日志输出地基本配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.3 日志输出地基本配置")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("ConsoleAppender配置")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Threshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("WARN \t\t\t #指定日志信息的最低输出级别，默认为DEBUG")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("ImmediateFlush")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true\t\t #所有消息都会被立即输出，设为false则不立即输出。默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Traget")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("System.err\t\t #默认值为System.out")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("FileAppender配置")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("File")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("D:/longing.log      #指定日志输出位置")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Threshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("WARN           #指定日志信息的最低输出级别，默认为DEBUG")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("ImmediateFlush")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true\t\t #所有消息都会被立即输出，设为false则不立即输出。默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Append")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("false\t\t\t #true表示追加到指定的文件中，false表示覆盖原文件中的内容，默认为true")]),a._v("\n")])])])]),a._v(" "),e("li",[e("p",[a._v("RollingFileAppender配置")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Threshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("WARN           #指定日志信息的最低输出级别，默认为DEBUG")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("ImmediateFlush")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true\t\t #所有消息都会被立即输出，设为false则不立即输出。默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Append")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("false\t\t\t #true表示追加到指定的文件中，false表示覆盖原文件中的内容，默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("File")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("D:/longing.log      #指定日志输出位置")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("MaxFileSize")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("10MB\t\t #在日志达到指定大小自动回滚，后缀可以为KB,MB,GB")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("MaxBackupIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("2\t\t #指定可以产生滚动文件的最大数。")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("例如设置 File=D:/longing.log，MaxFileSize=10MB，MaxBackupIndex=2，表示当文件日志文件超过10MB时，则会将生成longing.log.1、longing.log.2、和longing.log 文件")])])]),a._v(" "),e("li",[e("p",[a._v("DailyRollingFileAppender配置")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Threshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("WARN           #指定日志信息的最低输出级别，默认为DEBUG")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("ImmediateFlush")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true\t\t #所有消息都会被立即输出，设为false则不立即输出。默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Append")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("false\t\t\t #true表示追加到指定的文件中，false表示覆盖原文件中的内容，默认为true")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("File")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("D:/longing.log      #指定日志输出位置")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("DatePattern")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("'.'yyyy-MM   #每月产生一个新的日志文件")]),a._v("\n")])])]),e("blockquote",[e("p",[a._v("例如设置DatePattern='.'yyyy-MM，则当月文件名为longing.log，前一个月文件名则为longing.log .yyyy-MM。也可以指定按天、周、日等来分别滚动日志文件。如：")]),a._v(" "),e("ul",[e("li",[a._v("'.'yyyy-MM  \t\t每月")]),a._v(" "),e("li",[a._v("'.'yyyy-ww                   每周")]),a._v(" "),e("li",[a._v("'.'yyyy-MM-dd            每天")]),a._v(" "),e("li",[a._v("'.'yyyy-MM-dd-a         每天两次")]),a._v(" "),e("li",[a._v("'.'yyyy-MM-dd-HH     每小时")]),a._v(" "),e("li",[a._v("'.'yyyy-MM-dd-mm    每分钟")])])])])]),a._v(" "),e("h2",{attrs:{id:"_3-配置日志信息格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-配置日志信息格式","aria-hidden":"true"}},[a._v("#")]),a._v(" 3 配置日志信息格式")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("log4j.appender.appenderName.layout")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("className")]),a._v("\n")])])]),e("h3",{attrs:{id:"_3-1-appendername"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-appendername","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.1 appenderName")]),a._v(" "),e("p",[a._v("​\tappenderName为我们在根Logger中配置的appenderName")]),a._v(" "),e("h3",{attrs:{id:"_3-2-classname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-classname","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.2 className")]),a._v(" "),e("p",[a._v("​\tclassName为我们要选择日志的信息格式，Log4j给我们提供以下常用的类作为配置日志信息格式。")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[a._v("org.apache.log4j.HTMLLayout\t\t\t\t\t     \t#已HTML形式布局\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.PatternLayout")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("     \t\t\t\t#可以灵活的指定布局模式")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.SimpleLayout")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("     \t\t   \t\t    #包含日志信息的级别和信息字符串")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("org.apache.log4j.TTCCLayout")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("      \t   \t\t\t    #包含日志产生的时间、线程、类别等新")]),a._v("\n")])])]),e("h3",{attrs:{id:"_3-3-日志格式基本配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-日志格式基本配置","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.3 日志格式基本配置")]),a._v(" "),e("ul",[e("li",[e("p",[a._v("HTMLLayout")]),a._v(" "),e("div",{staticClass:"language-properties extra-class"},[e("pre",{pre:!0,attrs:{class:"language-properties"}},[e("code",[e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("LocationInfo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("true                #输出java文件名和行号，默认为false")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token attr-name"}},[a._v("Title")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[a._v("My Logging\t\t\t\t #默认值为Log4j Log Message")]),a._v("\n")])])])])])])}],!1,null,null,null);r.options.__file="log4j配置.md";t.default=r.exports}}]);